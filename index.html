<html>
	<head>
		<title>The Solar System</title>
		<script type="application/x-glsl" id="sky-vertex">
		varying vec2 vUV;

		void main() {
		  vUV = uv;
		  vec4 pos = vec4(position, 1.0);
		  gl_Position = projectionMatrix * modelViewMatrix * pos;
		}
		</script>
		<script type="application/x-glsl" id="sky-fragment">
		uniform sampler2D texture;
		varying vec2 vUV;

		void main() {
		  vec4 sample = texture2D(texture, vUV);
		  gl_FragColor = vec4(sample.xyz, sample.w);
		}
		</script>
	</head>
	<body id="body">
		<script src="js/jquery/jquery-3.1.1.min.js"></script>
		<script src="js/three/three.js"></script>
		<script src="js/three/RingGeometry2.js"></script>
    <script src="js/three/OrbitControls.js"></script>
		<script src="js/bundle/bundle.js"></script>

		<link rel="stylesheet" href="css/reset.css">
		<link href="https://fonts.googleapis.com/css?family=Titillium+Web" rel="stylesheet">
		<link rel="stylesheet" href="css/solar.css">

		<div class="navobjects back" id="back"></div>
		<div class="navobjects title" id="title">The Solar System</div>
		<div class="navobjects info" id="info"></div>
		<div class="navobjects about" id="about"><a href="https://github.com/mdorr/solar-system" target="_blank">Github project page</a></div>
		<div class="navobjects author" id="author">Created by Maurice Spiewack (<a href="http://www.spiewack.com" target="_blank">Portfolio</a> / <a href="https://www.linkedin.com/in/mspiew" target="_blank">Linkedin</a>)</div>
		<div class="helptext" id="help">Click and drag to rotate. Click any label for details.</div>

		<div id="overlay"></div>
		<div id="details"></div>

		<script>
			const $planetLabels = $("div.label");
			$.each($planetLabels, function(index, value) {
				$(value).on("click", event => {
					window.inputManager.receivePlanetTarget(event.currentTarget.innerText);
				});
			});

			const $backButton = $("#back");
			$backButton.on("click", event => {
				window.inputManager.resetControls();
			});

			const $infoButton = $("#info");
			$infoButton.on("click", event => {
				window.inputManager.showDetails();
			});

			const $overlay = $("#overlay");
			$overlay.on("click", event => {
				window.inputManager.hideDetails();
			});

			const $details = $("#details");
			$details.on("click", event => {
				window.inputManager.hideDetails();
			});

			$(document).keyup(function(e) {
  			if (e.keyCode === 27) { // esc key
					window.inputManager.hideDetails();
				}
			});
		</script>
	</body>
</html>
